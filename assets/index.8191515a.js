import{r as B,o as _,c as z,a as D,b as d,d as T,e as v,f as e,w as h,v as y,F as k,g as x,t as p,u as $,p as I,h as S,i as F,j as J,n as M,k as R,l as G,m as W,q as H}from"./vendor.361d08a3.js";const K=function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))c(a);new MutationObserver(a=>{for(const n of a)if(n.type==="childList")for(const l of n.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&c(l)}).observe(document,{childList:!0,subtree:!0});function t(a){const n={};return a.integrity&&(n.integrity=a.integrity),a.referrerpolicy&&(n.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?n.credentials="include":a.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function c(a){if(a.ep)return;a.ep=!0;const n=t(a);fetch(a.href,n)}};K();var w=(s,o)=>{const t=s.__vccOpts||s;for(const[c,a]of o)t[c]=a;return t};const Q={};function X(s,o){const t=B("router-view");return _(),z(t)}var Y=w(Q,[["render",X]]);const i=D({avatar:null,loggedIn:!1,token:null,username:null}),Z=async(s,o)=>{const t=await ae(s,o);return t.success!==!0?t.errors[0]:(ee(t),!0)},ee=s=>{i.avatar=s.data.avatar,i.token=s.data.token,i.username=s.data.username,i.loggedIn=!0},se=()=>{i.avatar=null,i.loggedIn=!1,i.token=null,i.username=null},C=d([]),L=d([]),te=()=>{const{random:s,floor:o}=Math;return`https://randomuser.me/api/portraits/men/${o(s()*100)}.jpg`},oe="http://localhost:3001/api/users/login",q="http://localhost:3001/api/users",N="http://localhost:3001/api/posts",O=()=>`JWT ${i.token}`,ae=async(s,o)=>{const t=JSON.stringify({username:s,password:o});return(await fetch(oe,{method:"POST",body:t,headers:{"Content-Type":"application/json"}})).json()},ne=async()=>{const s=O(),t=await(await fetch(N,{method:"GET",headers:{Authorization:s}})).json();C.value=t.data},le=async s=>{const o=O(),t=JSON.stringify(s);return(await fetch(N,{method:"POST",body:t,headers:{Authorization:o,"Content-Type":"application/json"}})).json()},re=async s=>{const o=JSON.stringify(s);return(await fetch(q,{method:"POST",body:o,headers:{"Content-Type":"application/json"}})).json()},ce=async()=>{const s=O(),t=await(await fetch(q,{method:"GET",headers:{Authorization:s}})).json();L.value=t.data};const ie=s=>(I("data-v-831cc754"),s=s(),S(),s),ue={class:"modal-content"},de={class:"card"},pe=ie(()=>e("h1",null,"Add Task",-1)),_e={class:"dropdown is-hoverable"},ve={class:"dropdown-trigger"},he={class:"field"},fe={class:"control"},me={class:"dropdown-menu",id:"dropdown-menu",role:"menu"},ge={class:"dropdown-content"},ye=["onClick"],be=["disabled"],ke=T({setup(s){const o=d(""),t=d(""),c=d(""),a=d(!1);i.loggedIn?ce():f.push("/");const n=async()=>{if(!i.username)return;const l={by:i.username,date:c.value,done:!1,for:t.value,title:o.value};a.value=!0,await le(l),a.value=!1,C.value.push(l),f.push("/tasks")};return(l,u)=>(_(),v("div",ue,[e("div",de,[pe,h(e("input",{class:"input is-normal",type:"text",placeholder:"Title","onUpdate:modelValue":u[0]||(u[0]=r=>o.value=r)},null,512),[[y,o.value]]),e("div",_e,[e("div",ve,[e("div",he,[e("div",fe,[h(e("input",{class:"input is-normal",type:"search	",placeholder:"For","onUpdate:modelValue":u[1]||(u[1]=r=>t.value=r)},null,512),[[y,t.value]])])])]),e("div",me,[e("div",ge,[(_(!0),v(k,null,x($(L),r=>(_(),v("a",{href:"#",class:"dropdown-item",onClick:()=>t.value=r.username},p(r.username),9,ye))),256))])])]),h(e("input",{class:"input is-normal",type:"date",placeholder:"Date","onUpdate:modelValue":u[2]||(u[2]=r=>c.value=r)},null,512),[[y,c.value]]),e("button",{class:"button is-normal",disabled:a.value,onClick:n},"Add",8,be)])]))}});var we=w(ke,[["__scopeId","data-v-831cc754"]]),$e="/assets/login_img.388aa216.png";const V=s=>(I("data-v-74c90e1e"),s=s(),S(),s),Ce=V(()=>e("img",{class:"Img",src:$e},null,-1)),Te={class:"card"},Ie={class:"loginLabel"},Se={class:"frm"},Ae=["disabled"],Ue=V(()=>e("span",{class:"icon is-small"},[e("i",{class:"fa-solid fa-right-to-bracket"})],-1)),xe=T({setup(s){const o=d(""),t=d(""),c=d(""),a=d(""),n=d(!1),l=d(!1),u=["Log In","Sign Up"],r=async()=>{if(a.value="",o.value===""||t.value===""){a.value="Empty field(s)";return}l.value=!0;const m=await Z(o.value,t.value);l.value=!1,m===!0?f.push("/tasks"):a.value=m},U=async()=>{if(a.value="",o.value===""||t.value===""||c.value===""){a.value="Empty field(s)";return}if(t.value!==c.value){a.value="Passwords don't match";return}const m={avatar:te(),password:t.value,username:o.value};l.value=!0,await re(m),l.value=!1,L.value.push(m),a.value="Sign Up Successful, Now you may login",o.value="",t.value="",c.value="",n.value=!1},P=()=>{if(n.value===!1)return r();U()},E=()=>n.value=!n.value;return(m,g)=>(_(),v(k,null,[Ce,e("div",Te,[e("div",Ie,p(u[+n.value]),1),e("div",Se,[h(e("input",{class:"input",type:"text",placeholder:"Username","onUpdate:modelValue":g[0]||(g[0]=b=>o.value=b)},null,512),[[y,o.value]]),h(e("input",{class:"input",type:"password",placeholder:"Password","onUpdate:modelValue":g[1]||(g[1]=b=>t.value=b)},null,512),[[y,t.value]]),n.value===!0?h((_(),v("input",{key:0,class:"input",type:"password",placeholder:"Confirm","onUpdate:modelValue":g[2]||(g[2]=b=>c.value=b)},null,512)),[[y,c.value]]):F("",!0),e("button",{class:"button",onClick:P,disabled:l.value},[Ue,e("span",null,p(u[+n.value]),1)],8,Ae),e("button",{class:"button is-ghost ghost",onClick:E},p(u[+!n.value])+" ? ",1),e("p",null,p(a.value),1)])])],64))}});var Le=w(xe,[["__scopeId","data-v-74c90e1e"]]),Oe="/assets/tasks_img.e2e342b8.png";const j=s=>(I("data-v-82441e2e"),s=s(),S(),s),qe={class:"sessionContainer"},Ne=["src"],Ve=j(()=>e("span",{class:"icon is-small"},[e("i",{class:"fa-solid fa-right-from-bracket"})],-1)),je=j(()=>e("span",null,"Log Out",-1)),Pe=[Ve,je],Ee=T({setup(s){i.loggedIn||f.push("/");const o=i.avatar||"",t=()=>{se(),f.push("/")};return(c,a)=>(_(),v("nav",null,[e("div",qe,[e("img",{src:$(o)},null,8,Ne),e("p",null,p($(i).username),1),e("button",{onClick:t,class:"button is-normal is-outlined"},Pe)])]))}});var Be=w(Ee,[["__scopeId","data-v-82441e2e"]]);const A=s=>(I("data-v-6235c8c0"),s=s(),S(),s),ze=A(()=>e("img",{class:"backImg",src:Oe},null,-1)),De=A(()=>e("h1",null,"T O D O",-1)),Fe={class:"tabs card"},Je=["onClick"],Me=A(()=>e("span",{class:"icon is-small"},[e("i",{class:"fa-solid fa-plus"})],-1)),Re=A(()=>e("span",null,"Add",-1)),Ge=[Me,Re],We={class:"tasks"},He={class:"taskList"},Ke={class:"title"},Qe={class:"for"},Xe={class:"date"},Ye={class:"field"},Ze=["onUpdate:modelValue"],es=T({setup(s){i.loggedIn&&ne().then(()=>{C.value.sort((l,u)=>l.done?1:-1)});const o=["Assigned","Created","All"],t=d(o[0]),c=l=>l===t.value?"tabLink activeTab":"tabLink",a=l=>t.value==o[0]?l.filter(u=>u.for===i.username):t.value==o[1]?l.filter(u=>u.by===i.username):l,n=()=>{f.push("/add")};return(l,u)=>(_(),v(k,null,[J(Be),ze,De,e("div",Fe,[(_(),v(k,null,x(o,r=>e("div",{class:M(c(r)),onClick:()=>t.value=r},p(r),11,Je)),64))]),e("button",{class:"button add",onClick:n},Ge),e("div",We,[e("div",He,[(_(!0),v(k,null,x(a($(C)),r=>(_(),v("div",{class:"card task",key:r._id},[e("div",Ke,p(r.title),1),e("div",Qe,p(r.for),1),e("div",Xe,p(r.date)+" \u2022 "+p(r.by),1),e("div",Ye,[h(e("input",{type:"checkbox","onUpdate:modelValue":U=>r.done=U},null,8,Ze),[[R,r.done]])])]))),128))])])],64))}});var ss=w(es,[["__scopeId","data-v-6235c8c0"]]);const ts=[{path:"/",component:Le},{path:"/tasks",component:ss},{path:"/add",component:we}],f=G({history:W(),routes:ts,linkActiveClass:"is-active"});H(Y).use(f).mount("#app");
