var F=Object.defineProperty,M=Object.defineProperties;var R=Object.getOwnPropertyDescriptors;var j=Object.getOwnPropertySymbols;var G=Object.prototype.hasOwnProperty,H=Object.prototype.propertyIsEnumerable;var N=(e,t,s)=>t in e?F(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,V=(e,t)=>{for(var s in t||(t={}))G.call(t,s)&&N(e,s,t[s]);if(j)for(var s of j(t))H.call(t,s)&&N(e,s,t[s]);return e},P=(e,t)=>M(e,R(t));import{r as W,o as _,c as K,a as Q,b as d,d as I,e as v,f as o,w as h,v as y,F as k,g as x,t as p,u as w,p as S,h as A,i as X,j as Y,n as Z,k as ee,l as se,m as te,q as oe}from"./vendor.361d08a3.js";const ae=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))c(a);new MutationObserver(a=>{for(const n of a)if(n.type==="childList")for(const r of n.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&c(r)}).observe(document,{childList:!0,subtree:!0});function s(a){const n={};return a.integrity&&(n.integrity=a.integrity),a.referrerpolicy&&(n.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?n.credentials="include":a.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function c(a){if(a.ep)return;a.ep=!0;const n=s(a);fetch(a.href,n)}};ae();var $=(e,t)=>{const s=e.__vccOpts||e;for(const[c,a]of t)s[c]=a;return s};const ne={};function le(e,t){const s=W("router-view");return _(),K(s)}var re=$(ne,[["render",le]]);const i=Q({avatar:null,loggedIn:!1,token:null,username:null}),ce=async(e,t)=>{const s=await _e(e,t);return s.success!==!0?s.errors[0]:(ie(s),!0)},ie=e=>{i.avatar=e.data.avatar,i.token=e.data.token,i.username=e.data.username,i.loggedIn=!0},ue=()=>{i.avatar=null,i.loggedIn=!1,i.token=null,i.username=null},T=d([]),L=d([]),de=()=>{const{random:e,floor:t}=Math;return`https://randomuser.me/api/portraits/men/${t(e()*100)}.jpg`},pe="http://localhost:3001/api/users/login",E="http://localhost:3001/api/users",O="http://localhost:3001/api/posts",U=()=>`JWT ${i.token}`,_e=async(e,t)=>{const s=JSON.stringify({username:e,password:t});return(await fetch(pe,{method:"POST",body:s,headers:{"Content-Type":"application/json"}})).json()},ve=async()=>{const e=U(),s=await(await fetch(O,{method:"GET",headers:{Authorization:e}})).json();T.value=s.data},he=async e=>{const t=U(),s=JSON.stringify(e);return(await fetch(`${O}/${e._id}`,{method:"PATCH",body:s,headers:{Authorization:t,"Content-Type":"application/json"}})).json()},fe=async e=>{const t=U(),s=JSON.stringify(e);return(await fetch(O,{method:"POST",body:s,headers:{Authorization:t,"Content-Type":"application/json"}})).json()},me=async e=>{const t=JSON.stringify(e);return(await fetch(E,{method:"POST",body:t,headers:{"Content-Type":"application/json"}})).json()},ge=async()=>{const e=U(),s=await(await fetch(E,{method:"GET",headers:{Authorization:e}})).json();L.value=s.data};const ye=e=>(S("data-v-831cc754"),e=e(),A(),e),be={class:"modal-content"},ke={class:"card"},we=ye(()=>o("h1",null,"Add Task",-1)),$e={class:"dropdown is-hoverable"},Ce={class:"dropdown-trigger"},Te={class:"field"},Ie={class:"control"},Se={class:"dropdown-menu",id:"dropdown-menu",role:"menu"},Ae={class:"dropdown-content"},Ue=["onClick"],qe=["disabled"],xe=I({setup(e){const t=d(""),s=d(""),c=d(""),a=d(!1);i.loggedIn?ge():f.push("/");const n=async()=>{if(!i.username)return;const r={by:i.username,date:c.value,done:!1,for:s.value,title:t.value};a.value=!0,await fe(r),a.value=!1,T.value.push(r),f.push("/tasks")};return(r,u)=>(_(),v("div",be,[o("div",ke,[we,h(o("input",{class:"input is-normal",type:"text",placeholder:"Title","onUpdate:modelValue":u[0]||(u[0]=l=>t.value=l)},null,512),[[y,t.value]]),o("div",$e,[o("div",Ce,[o("div",Te,[o("div",Ie,[h(o("input",{class:"input is-normal",type:"search	",placeholder:"For","onUpdate:modelValue":u[1]||(u[1]=l=>s.value=l)},null,512),[[y,s.value]])])])]),o("div",Se,[o("div",Ae,[(_(!0),v(k,null,x(w(L),l=>(_(),v("a",{href:"#",class:"dropdown-item",onClick:()=>s.value=l.username},p(l.username),9,Ue))),256))])])]),h(o("input",{class:"input is-normal",type:"date",placeholder:"Date","onUpdate:modelValue":u[2]||(u[2]=l=>c.value=l)},null,512),[[y,c.value]]),o("button",{class:"button is-normal",disabled:a.value,onClick:n},"Add",8,qe)])]))}});var Le=$(xe,[["__scopeId","data-v-831cc754"]]),Oe="/assets/login_img.388aa216.png";const z=e=>(S("data-v-74c90e1e"),e=e(),A(),e),je=z(()=>o("img",{class:"Img",src:Oe},null,-1)),Ne={class:"card"},Ve={class:"loginLabel"},Pe={class:"frm"},Ee=["disabled"],ze=z(()=>o("span",{class:"icon is-small"},[o("i",{class:"fa-solid fa-right-to-bracket"})],-1)),Be=I({setup(e){const t=d(""),s=d(""),c=d(""),a=d(""),n=d(!1),r=d(!1),u=["Log In","Sign Up"],l=async()=>{if(a.value="",t.value===""||s.value===""){a.value="Empty field(s)";return}r.value=!0;const m=await ce(t.value,s.value);r.value=!1,m===!0?f.push("/tasks"):a.value=m},C=async()=>{if(a.value="",t.value===""||s.value===""||c.value===""){a.value="Empty field(s)";return}if(s.value!==c.value){a.value="Passwords don't match";return}const m={avatar:de(),password:s.value,username:t.value};r.value=!0,await me(m),r.value=!1,L.value.push(m),a.value="Sign Up Successful, Now you may login",t.value="",s.value="",c.value="",n.value=!1},J=()=>{if(n.value===!1)return l();C()},D=()=>n.value=!n.value;return(m,g)=>(_(),v(k,null,[je,o("div",Ne,[o("div",Ve,p(u[+n.value]),1),o("div",Pe,[h(o("input",{class:"input",type:"text",placeholder:"Username","onUpdate:modelValue":g[0]||(g[0]=b=>t.value=b)},null,512),[[y,t.value]]),h(o("input",{class:"input",type:"password",placeholder:"Password","onUpdate:modelValue":g[1]||(g[1]=b=>s.value=b)},null,512),[[y,s.value]]),n.value===!0?h((_(),v("input",{key:0,class:"input",type:"password",placeholder:"Confirm","onUpdate:modelValue":g[2]||(g[2]=b=>c.value=b)},null,512)),[[y,c.value]]):X("",!0),o("button",{class:"button",onClick:J,disabled:r.value},[ze,o("span",null,p(u[+n.value]),1)],8,Ee),o("button",{class:"button is-ghost ghost",onClick:D},p(u[+!n.value])+" ? ",1),o("p",null,p(a.value),1)])])],64))}});var Je=$(Be,[["__scopeId","data-v-74c90e1e"]]),De="/assets/tasks_img.e2e342b8.png";const B=e=>(S("data-v-82441e2e"),e=e(),A(),e),Fe={class:"sessionContainer"},Me=["src"],Re=B(()=>o("span",{class:"icon is-small"},[o("i",{class:"fa-solid fa-right-from-bracket"})],-1)),Ge=B(()=>o("span",null,"Log Out",-1)),He=[Re,Ge],We=I({setup(e){i.loggedIn||f.push("/");const t=i.avatar||"",s=()=>{ue(),f.push("/")};return(c,a)=>(_(),v("nav",null,[o("div",Fe,[o("img",{src:w(t)},null,8,Me),o("p",null,p(w(i).username),1),o("button",{onClick:s,class:"button is-normal is-outlined"},He)])]))}});var Ke=$(We,[["__scopeId","data-v-82441e2e"]]);const q=e=>(S("data-v-7ff69983"),e=e(),A(),e),Qe=q(()=>o("img",{class:"backImg",src:De},null,-1)),Xe=q(()=>o("h1",null,"T O D O",-1)),Ye={class:"tabs card"},Ze=["onClick"],es=q(()=>o("span",{class:"icon is-small"},[o("i",{class:"fa-solid fa-plus"})],-1)),ss=q(()=>o("span",null,"Add",-1)),ts=[es,ss],os={class:"tasks"},as={class:"taskList"},ns={class:"title"},ls={class:"for"},rs={class:"date"},cs={class:"field"},is=["onUpdate:modelValue","onClick"],us=I({setup(e){i.loggedIn&&ve().then(()=>{T.value.sort((r,u)=>r.done?1:-1)});const t=["Assigned","Created","All"],s=d(t[0]),c=r=>r===s.value?"tabLink activeTab":"tabLink",a=r=>s.value==t[0]?r.filter(u=>u.for===i.username):s.value==t[1]?r.filter(u=>u.by===i.username):r,n=()=>{f.push("/add")};return(r,u)=>(_(),v(k,null,[Y(Ke),Qe,Xe,o("div",Ye,[(_(),v(k,null,x(t,l=>o("div",{class:Z(c(l)),onClick:()=>s.value=l},p(l),11,Ze)),64))]),o("button",{class:"button add",onClick:n},ts),o("div",os,[o("div",as,[(_(!0),v(k,null,x(a(w(T)),l=>(_(),v("div",{class:"card task",key:l._id},[o("div",ns,p(l.title),1),o("div",ls,p(l.for),1),o("div",rs,p(l.date)+" \u2022 "+p(l.by),1),o("div",cs,[h(o("input",{type:"checkbox","onUpdate:modelValue":C=>l.done=C,onClick:C=>w(he)(P(V({},l),{done:!l.done}))},null,8,is),[[ee,l.done]])])]))),128))])])],64))}});var ds=$(us,[["__scopeId","data-v-7ff69983"]]);const ps=[{path:"/",component:Je},{path:"/tasks",component:ds},{path:"/add",component:Le}],f=se({history:te(),routes:ps,linkActiveClass:"is-active"});oe(re).use(f).mount("#app");
