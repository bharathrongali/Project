var M=Object.defineProperty,R=Object.defineProperties;var G=Object.getOwnPropertyDescriptors;var V=Object.getOwnPropertySymbols;var H=Object.prototype.hasOwnProperty,W=Object.prototype.propertyIsEnumerable;var J=(e,t,s)=>t in e?M(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,P=(e,t)=>{for(var s in t||(t={}))H.call(t,s)&&J(e,s,t[s]);if(V)for(var s of V(t))W.call(t,s)&&J(e,s,t[s]);return e},E=(e,t)=>R(e,G(t));import{r as d,a as K,d as C,c as Q,b as X,o as v,e as h,f as o,w as m,v as k,F as $,g as L,u as T,p as A,h as O,t as _,i as Y,j as Z,n as ee,k as se,l as te,m as oe,q as ae}from"./vendor.e05278d3.js";const ne=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const i of l.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function s(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerpolicy&&(l.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?l.credentials="include":a.crossorigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function n(a){if(a.ep)return;a.ep=!0;const l=s(a);fetch(a.href,l)}};ne();const I=d([]),N=d([]),le=()=>{const{random:e,floor:t}=Math;return`https://randomuser.me/api/portraits/men/${t(e()*100)}.jpg`},re="http://localhost:3001/api/users/login",z="http://localhost:3001/api/users",j="http://localhost:3001/api/posts",U=()=>`JWT ${c.token}`,ce=async(e,t)=>{const s=JSON.stringify({username:e,password:t});return(await fetch(re,{method:"POST",body:s,headers:{"Content-Type":"application/json"}})).json()},ie=async()=>{const e=U(),s=await(await fetch(j,{method:"GET",headers:{Authorization:e}})).json();I.value=s.data},ue=async e=>{const t=U(),s=JSON.stringify(e);return(await fetch(`${j}/${e._id}`,{method:"PATCH",body:s,headers:{Authorization:t,"Content-Type":"application/json"}})).json()},de=async e=>{const t=U(),s=JSON.stringify(e);return(await fetch(j,{method:"POST",body:s,headers:{Authorization:t,"Content-Type":"application/json"}})).json()},pe=async e=>{const t=JSON.stringify(e);return(await fetch(z,{method:"POST",body:t,headers:{"Content-Type":"application/json"}})).json()},_e=async()=>{const e=U(),s=await(await fetch(z,{method:"GET",headers:{Authorization:e}})).json();N.value=s.data},c=K({avatar:null,loggedIn:!1,token:null,username:null}),ve=async(e,t)=>{const s=await ce(e,t);return s.success!==!0?s.errors[0]:(B(s),!0)},B=e=>{c.avatar=e.data.avatar,c.token=e.data.token,c.username=e.data.username,c.loggedIn=!0,localStorage.setItem("session",JSON.stringify(c))},he=()=>{c.avatar=null,c.loggedIn=!1,c.token=null,c.username=null,localStorage.setItem("session",JSON.stringify(c))},fe=C({setup(e){const t=localStorage.getItem("session");if(t!==null){const s={success:!0,errors:[],data:JSON.parse(t)};B(s)}return(s,n)=>{const a=X("router-view");return v(),Q(a)}}});var q=(e,t)=>{const s=e.__vccOpts||e;for(const[n,a]of t)s[n]=a;return s};const me=e=>(A("data-v-831cc754"),e=e(),O(),e),ge={class:"modal-content"},ye={class:"card"},be=me(()=>o("h1",null,"Add Task",-1)),ke={class:"dropdown is-hoverable"},we={class:"dropdown-trigger"},$e={class:"field"},Ce={class:"control"},Se={class:"dropdown-menu",id:"dropdown-menu",role:"menu"},Te={class:"dropdown-content"},Ie=["onClick"],Ae=["disabled"],Oe=C({setup(e){const t=d(""),s=d(""),n=d(""),a=d(!1);c.loggedIn?_e():g.push("/");const l=async()=>{if(!c.username)return;const i={by:c.username,date:n.value,done:!1,for:s.value,title:t.value};a.value=!0,await de(i),a.value=!1,I.value.push(i),g.push("/tasks")};return(i,p)=>(v(),h("div",ge,[o("div",ye,[be,m(o("input",{class:"input is-normal",type:"text",placeholder:"Title","onUpdate:modelValue":p[0]||(p[0]=r=>t.value=r)},null,512),[[k,t.value]]),o("div",ke,[o("div",we,[o("div",$e,[o("div",Ce,[m(o("input",{class:"input is-normal",type:"search	",placeholder:"For","onUpdate:modelValue":p[1]||(p[1]=r=>s.value=r)},null,512),[[k,s.value]])])])]),o("div",Se,[o("div",Te,[(v(!0),h($,null,L(T(N),r=>(v(),h("a",{href:"#",class:"dropdown-item",onClick:()=>s.value=r.username},_(r.username),9,Ie))),256))])])]),m(o("input",{class:"input is-normal",type:"date",placeholder:"Date","onUpdate:modelValue":p[2]||(p[2]=r=>n.value=r)},null,512),[[k,n.value]]),o("button",{class:"button is-normal",disabled:a.value,onClick:l},"Add",8,Ae)])]))}});var Ue=q(Oe,[["__scopeId","data-v-831cc754"]]),qe="/assets/login_img.388aa216.png";const D=e=>(A("data-v-74c90e1e"),e=e(),O(),e),xe=D(()=>o("img",{class:"Img",src:qe},null,-1)),Le={class:"card"},Ne={class:"loginLabel"},je={class:"frm"},Ve=["disabled"],Je=D(()=>o("span",{class:"icon is-small"},[o("i",{class:"fa-solid fa-right-to-bracket"})],-1)),Pe=C({setup(e){const t=d(""),s=d(""),n=d(""),a=d(""),l=d(!1),i=d(!1),p=["Log In","Sign Up"],r=async()=>{if(a.value="",t.value===""||s.value===""){a.value="Empty field(s)";return}i.value=!0;const y=await ve(t.value,s.value);i.value=!1,y===!0?g.push("/tasks"):a.value=y},f=async()=>{if(a.value="",t.value===""||s.value===""||n.value===""){a.value="Empty field(s)";return}if(s.value!==n.value){a.value="Passwords don't match";return}const y={avatar:le(),password:s.value,username:t.value};i.value=!0,await pe(y),i.value=!1,N.value.push(y),a.value="Sign Up Successful, Now you may login",t.value="",s.value="",n.value="",l.value=!1},u=()=>{if(l.value===!1)return r();f()},S=()=>l.value=!l.value;return(y,b)=>(v(),h($,null,[xe,o("div",Le,[o("div",Ne,_(p[+l.value]),1),o("div",je,[m(o("input",{class:"input",type:"text",placeholder:"Username","onUpdate:modelValue":b[0]||(b[0]=w=>t.value=w)},null,512),[[k,t.value]]),m(o("input",{class:"input",type:"password",placeholder:"Password","onUpdate:modelValue":b[1]||(b[1]=w=>s.value=w)},null,512),[[k,s.value]]),l.value===!0?m((v(),h("input",{key:0,class:"input",type:"password",placeholder:"Confirm","onUpdate:modelValue":b[2]||(b[2]=w=>n.value=w)},null,512)),[[k,n.value]]):Y("",!0),o("button",{class:"button",onClick:u,disabled:i.value},[Je,o("span",null,_(p[+l.value]),1)],8,Ve),o("button",{class:"button is-ghost ghost",onClick:S},_(p[+!l.value])+" ? ",1),o("p",null,_(a.value),1)])])],64))}});var Ee=q(Pe,[["__scopeId","data-v-74c90e1e"]]),ze="/assets/tasks_img.e2e342b8.png";const F=e=>(A("data-v-82441e2e"),e=e(),O(),e),Be={class:"sessionContainer"},De=["src"],Fe=F(()=>o("span",{class:"icon is-small"},[o("i",{class:"fa-solid fa-right-from-bracket"})],-1)),Me=F(()=>o("span",null,"Log Out",-1)),Re=[Fe,Me],Ge=C({setup(e){c.loggedIn||g.push("/");const t=c.avatar||"",s=()=>{he(),g.push("/")};return(n,a)=>(v(),h("nav",null,[o("div",Be,[o("img",{src:T(t)},null,8,De),o("p",null,_(T(c).username),1),o("button",{onClick:s,class:"button is-normal is-outlined"},Re)])]))}});var He=q(Ge,[["__scopeId","data-v-82441e2e"]]);const x=e=>(A("data-v-7b5bbe1a"),e=e(),O(),e),We=x(()=>o("img",{class:"backImg",src:ze},null,-1)),Ke=x(()=>o("h1",null,"T O D O",-1)),Qe={class:"tabs card"},Xe=["onClick"],Ye=x(()=>o("span",{class:"icon is-small"},[o("i",{class:"fa-solid fa-plus"})],-1)),Ze=x(()=>o("span",null,"Add",-1)),es=[Ye,Ze],ss={class:"tasks"},ts={class:"taskList"},os={class:"title"},as={class:"for"},ns={class:"date"},ls={class:"field"},rs=["onUpdate:modelValue","onClick"],cs=C({setup(e){const t=()=>{I.value.sort((r,f)=>r.done?1:-1)};c.loggedIn&&ie().then(t);const s=["Assigned","Created","All"],n=d(s[0]),a=r=>r===n.value?"tabLink activeTab":"tabLink",l=r=>n.value==s[0]?r.filter(f=>f.for===c.username):n.value==s[1]?r.filter(f=>f.by===c.username):r,i=()=>{g.push("/add")},p=async r=>{await ue(E(P({},r),{done:!r.done})),t()};return(r,f)=>(v(),h($,null,[Z(He),We,Ke,o("div",Qe,[(v(),h($,null,L(s,u=>o("div",{class:ee(a(u)),onClick:()=>n.value=u},_(u),11,Xe)),64))]),o("button",{class:"button add",onClick:i},es),o("div",ss,[o("div",ts,[(v(!0),h($,null,L(l(T(I)),u=>(v(),h("div",{class:"card task",key:u._id},[o("div",os,_(u.title),1),o("div",as,_(u.for),1),o("div",ns,_(u.date)+" \u2022 "+_(u.by),1),o("div",ls,[m(o("input",{type:"checkbox","onUpdate:modelValue":S=>u.done=S,onClick:S=>p(u)},null,8,rs),[[se,u.done]])])]))),128))])])],64))}});var is=q(cs,[["__scopeId","data-v-7b5bbe1a"]]);const us=[{path:"/",component:Ee},{path:"/tasks",component:is},{path:"/add",component:Ue}],g=te({history:oe(),routes:us,linkActiveClass:"is-active"});ae(fe).use(g).mount("#app");
