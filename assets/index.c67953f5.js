var F=Object.defineProperty,M=Object.defineProperties;var R=Object.getOwnPropertyDescriptors;var V=Object.getOwnPropertySymbols;var G=Object.prototype.hasOwnProperty,H=Object.prototype.propertyIsEnumerable;var J=(s,t,e)=>t in s?F(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,P=(s,t)=>{for(var e in t||(t={}))G.call(t,e)&&J(s,e,t[e]);if(V)for(var e of V(t))H.call(t,e)&&J(s,e,t[e]);return s},E=(s,t)=>M(s,R(t));import{r as d,a as W,d as C,c as K,b as Q,o as v,e as h,f as o,w as f,v as k,F as $,g as L,u as I,p as A,h as O,t as _,i as X,j as Y,n as Z,k as ee,l as se,m as te,q as oe}from"./vendor.e05278d3.js";const ae=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const i of l.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function e(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerpolicy&&(l.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?l.credentials="include":a.crossorigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function n(a){if(a.ep)return;a.ep=!0;const l=e(a);fetch(a.href,l)}};ae();const T=d([]),N=d([]),ne=()=>{const{random:s,floor:t}=Math;return`https://randomuser.me/api/portraits/men/${t(s()*100)}.jpg`},le="http://localhost:3001/api/users/login",z="http://localhost:3001/api/users",j="http://localhost:3001/api/posts",U=()=>`JWT ${r.token}`,re=async(s,t)=>{const e=JSON.stringify({username:s,password:t});return(await fetch(le,{method:"POST",body:e,headers:{"Content-Type":"application/json"}})).json()},ce=async()=>{const s=U(),e=await(await fetch(j,{method:"GET",headers:{Authorization:s}})).json();T.value=e.data},ie=async s=>{const t=U(),e=JSON.stringify(s);return(await fetch(`${j}/${s._id}`,{method:"PATCH",body:e,headers:{Authorization:t,"Content-Type":"application/json"}})).json()},ue=async s=>{const t=U(),e=JSON.stringify(s);return(await fetch(j,{method:"POST",body:e,headers:{Authorization:t,"Content-Type":"application/json"}})).json()},de=async s=>{const t=JSON.stringify(s);return(await fetch(z,{method:"POST",body:t,headers:{"Content-Type":"application/json"}})).json()},pe=async()=>{const s=U(),e=await(await fetch(z,{method:"GET",headers:{Authorization:s}})).json();N.value=e.data},r=W({avatar:null,loggedIn:!1,token:null,username:null}),_e=async(s,t)=>{const e=await re(s,t);return e.success!==!0?e.errors[0]:(ve(e),!0)},ve=s=>{r.avatar=s.data.avatar,r.token=s.data.token,r.username=s.data.username,r.loggedIn=!0,localStorage.setItem("session",JSON.stringify(r))},he=()=>{r.avatar=null,r.loggedIn=!1,r.token=null,r.username=null,localStorage.setItem("session",JSON.stringify(r))},me=C({setup(s){const t=localStorage.getItem("session");if(t!==null){const e=JSON.parse(t);r.avatar=e.avatar,r.loggedIn=e.loggedIn,r.token=e.token,r.username=e.username}return(e,n)=>{const a=Q("router-view");return v(),K(a)}}});var q=(s,t)=>{const e=s.__vccOpts||s;for(const[n,a]of t)e[n]=a;return e};const fe=s=>(A("data-v-831cc754"),s=s(),O(),s),ge={class:"modal-content"},ye={class:"card"},be=fe(()=>o("h1",null,"Add Task",-1)),ke={class:"dropdown is-hoverable"},we={class:"dropdown-trigger"},$e={class:"field"},Ce={class:"control"},Se={class:"dropdown-menu",id:"dropdown-menu",role:"menu"},Ie={class:"dropdown-content"},Te=["onClick"],Ae=["disabled"],Oe=C({setup(s){const t=d(""),e=d(""),n=d(""),a=d(!1);r.loggedIn?pe():g.push("/");const l=async()=>{if(!r.username)return;const i={by:r.username,date:n.value,done:!1,for:e.value,title:t.value};a.value=!0,await ue(i),a.value=!1,T.value.push(i),g.push("/tasks")};return(i,p)=>(v(),h("div",ge,[o("div",ye,[be,f(o("input",{class:"input is-normal",type:"text",placeholder:"Title","onUpdate:modelValue":p[0]||(p[0]=c=>t.value=c)},null,512),[[k,t.value]]),o("div",ke,[o("div",we,[o("div",$e,[o("div",Ce,[f(o("input",{class:"input is-normal",type:"search	",placeholder:"For","onUpdate:modelValue":p[1]||(p[1]=c=>e.value=c)},null,512),[[k,e.value]])])])]),o("div",Se,[o("div",Ie,[(v(!0),h($,null,L(I(N),c=>(v(),h("a",{href:"#",class:"dropdown-item",onClick:()=>e.value=c.username},_(c.username),9,Te))),256))])])]),f(o("input",{class:"input is-normal",type:"date",placeholder:"Date","onUpdate:modelValue":p[2]||(p[2]=c=>n.value=c)},null,512),[[k,n.value]]),o("button",{class:"button is-normal",disabled:a.value,onClick:l},"Add",8,Ae)])]))}});var Ue=q(Oe,[["__scopeId","data-v-831cc754"]]),qe="/assets/login_img.388aa216.png";const B=s=>(A("data-v-74c90e1e"),s=s(),O(),s),xe=B(()=>o("img",{class:"Img",src:qe},null,-1)),Le={class:"card"},Ne={class:"loginLabel"},je={class:"frm"},Ve=["disabled"],Je=B(()=>o("span",{class:"icon is-small"},[o("i",{class:"fa-solid fa-right-to-bracket"})],-1)),Pe=C({setup(s){const t=d(""),e=d(""),n=d(""),a=d(""),l=d(!1),i=d(!1),p=["Log In","Sign Up"],c=async()=>{if(a.value="",t.value===""||e.value===""){a.value="Empty field(s)";return}i.value=!0;const y=await _e(t.value,e.value);i.value=!1,y===!0?g.push("/tasks"):a.value=y},m=async()=>{if(a.value="",t.value===""||e.value===""||n.value===""){a.value="Empty field(s)";return}if(e.value!==n.value){a.value="Passwords don't match";return}const y={avatar:ne(),password:e.value,username:t.value};i.value=!0,await de(y),i.value=!1,N.value.push(y),a.value="Sign Up Successful, Now you may login",t.value="",e.value="",n.value="",l.value=!1},u=()=>{if(l.value===!1)return c();m()},S=()=>l.value=!l.value;return(y,b)=>(v(),h($,null,[xe,o("div",Le,[o("div",Ne,_(p[+l.value]),1),o("div",je,[f(o("input",{class:"input",type:"text",placeholder:"Username","onUpdate:modelValue":b[0]||(b[0]=w=>t.value=w)},null,512),[[k,t.value]]),f(o("input",{class:"input",type:"password",placeholder:"Password","onUpdate:modelValue":b[1]||(b[1]=w=>e.value=w)},null,512),[[k,e.value]]),l.value===!0?f((v(),h("input",{key:0,class:"input",type:"password",placeholder:"Confirm","onUpdate:modelValue":b[2]||(b[2]=w=>n.value=w)},null,512)),[[k,n.value]]):X("",!0),o("button",{class:"button",onClick:u,disabled:i.value},[Je,o("span",null,_(p[+l.value]),1)],8,Ve),o("button",{class:"button is-ghost ghost",onClick:S},_(p[+!l.value])+" ? ",1),o("p",null,_(a.value),1)])])],64))}});var Ee=q(Pe,[["__scopeId","data-v-74c90e1e"]]),ze="/assets/tasks_img.e2e342b8.png";const D=s=>(A("data-v-82441e2e"),s=s(),O(),s),Be={class:"sessionContainer"},De=["src"],Fe=D(()=>o("span",{class:"icon is-small"},[o("i",{class:"fa-solid fa-right-from-bracket"})],-1)),Me=D(()=>o("span",null,"Log Out",-1)),Re=[Fe,Me],Ge=C({setup(s){r.loggedIn||g.push("/");const t=r.avatar||"",e=()=>{he(),g.push("/")};return(n,a)=>(v(),h("nav",null,[o("div",Be,[o("img",{src:I(t)},null,8,De),o("p",null,_(I(r).username),1),o("button",{onClick:e,class:"button is-normal is-outlined"},Re)])]))}});var He=q(Ge,[["__scopeId","data-v-82441e2e"]]);const x=s=>(A("data-v-7b5bbe1a"),s=s(),O(),s),We=x(()=>o("img",{class:"backImg",src:ze},null,-1)),Ke=x(()=>o("h1",null,"T O D O",-1)),Qe={class:"tabs card"},Xe=["onClick"],Ye=x(()=>o("span",{class:"icon is-small"},[o("i",{class:"fa-solid fa-plus"})],-1)),Ze=x(()=>o("span",null,"Add",-1)),es=[Ye,Ze],ss={class:"tasks"},ts={class:"taskList"},os={class:"title"},as={class:"for"},ns={class:"date"},ls={class:"field"},rs=["onUpdate:modelValue","onClick"],cs=C({setup(s){const t=()=>{T.value.sort((c,m)=>c.done?1:-1)};r.loggedIn&&ce().then(t);const e=["Assigned","Created","All"],n=d(e[0]),a=c=>c===n.value?"tabLink activeTab":"tabLink",l=c=>n.value==e[0]?c.filter(m=>m.for===r.username):n.value==e[1]?c.filter(m=>m.by===r.username):c,i=()=>{g.push("/add")},p=async c=>{await ie(E(P({},c),{done:!c.done})),t()};return(c,m)=>(v(),h($,null,[Y(He),We,Ke,o("div",Qe,[(v(),h($,null,L(e,u=>o("div",{class:Z(a(u)),onClick:()=>n.value=u},_(u),11,Xe)),64))]),o("button",{class:"button add",onClick:i},es),o("div",ss,[o("div",ts,[(v(!0),h($,null,L(l(I(T)),u=>(v(),h("div",{class:"card task",key:u._id},[o("div",os,_(u.title),1),o("div",as,_(u.for),1),o("div",ns,_(u.date)+" \u2022 "+_(u.by),1),o("div",ls,[f(o("input",{type:"checkbox","onUpdate:modelValue":S=>u.done=S,onClick:S=>p(u)},null,8,rs),[[ee,u.done]])])]))),128))])])],64))}});var is=q(cs,[["__scopeId","data-v-7b5bbe1a"]]);const us=[{path:"/",component:Ee},{path:"/tasks",component:is},{path:"/add",component:Ue}],g=se({history:te(),routes:us,linkActiveClass:"is-active"});oe(me).use(g).mount("#app");
